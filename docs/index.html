<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.149">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Clothing Web Sales Prediction - Data &amp; Exploration</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-17.0.0/react.min.js"></script>
<script src="site_libs/react-17.0.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/reactable-binding-0.3.0/reactable.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Clothing Web Sales Prediction</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page">Exploration</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./model_page.html">Sales Prediction</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table Of Content</h2>
   
  <ul>
  <li><a href="#libraries" id="toc-libraries" class="nav-link active" data-scroll-target="#libraries">Libraries</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#adding-useful-variables" id="toc-adding-useful-variables" class="nav-link" data-scroll-target="#adding-useful-variables">Adding Useful variables</a></li>
  </ul></li>
  <li><a href="#data-exploration" id="toc-data-exploration" class="nav-link" data-scroll-target="#data-exploration">Data Exploration</a>
  <ul class="collapse">
  <li><a href="#variable-distribution" id="toc-variable-distribution" class="nav-link" data-scroll-target="#variable-distribution">Variable Distribution</a></li>
  <li><a href="#variable-relationship" id="toc-variable-relationship" class="nav-link" data-scroll-target="#variable-relationship">Variable Relationship</a></li>
  <li><a href="#customer-segments" id="toc-customer-segments" class="nav-link" data-scroll-target="#customer-segments">Customer Segments</a></li>
  <li><a href="#customer-segment-variable-aggregate-summary" id="toc-customer-segment-variable-aggregate-summary" class="nav-link" data-scroll-target="#customer-segment-variable-aggregate-summary">Customer Segment &amp; Variable Aggregate summary</a></li>
  <li><a href="#correlation" id="toc-correlation" class="nav-link" data-scroll-target="#correlation">Correlation</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data &amp; Exploration</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p><img src="sales_web.png" class="img-fluid"></p>
<p>An online clothing store has decided to take their marketing strategy to the next level by taking advantage of the available customer activity data. Their aim is to predict potential sales of various collection of high quality fashion brands which will in turn help to reduce marketing cost by making sure that they are spending more on niches and items with high earning potential by offering not only the best prices but also taking advantage of various event, holidays, etc.</p>
<section id="the-frame-of-the-problem" class="level4">
<h4 class="anchored" data-anchor-id="the-frame-of-the-problem">The Frame of the problem</h4>
<p>The outcome variable to predict is the Average sales per customer visit to online store, this means that a regression model will be the best approach in predicting the outcome since sales is a numerical data type. also we have the historical sales amount present in the data which makes this a supervised regression problem.</p>
</section>
<section id="performance-measure" class="level4">
<h4 class="anchored" data-anchor-id="performance-measure">Performance Measure</h4>
<p>Model performance will be measured using Root Mean Square Error (RMSE), Mean Absolute Error (MAE) and R squared (coefficient of determination using correlation). NOTE that both RMSE and MAE gives an idea of how much error the model typically makes in its predictions, with a higher weight for large errors.</p>
<section id="note" class="level6">
<h6 class="anchored" data-anchor-id="note">NOTE</h6>
<p>
The custom functions used in the analysis can be accessed here <a href="www.mysite.com"><i class="bi bi-file-earmark-code"></i></a>
</p>
</section>
</section>
<section id="libraries" class="level3">
<h3 class="anchored" data-anchor-id="libraries">Libraries</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reactable)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"data/clothing_store_PCA_training"</span>, <span class="at">delim =</span> <span class="st">","</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">display_tibble</span>(<span class="fu">head</span>(train, <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-8b39f9aa09031ee04067" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8b39f9aa09031ee04067">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Days since Purchase":[66,49,26,64,356],"Purchase Visits":[8,1,2,5,1],"Days on File":[701,49,145,357,447],"Days between Purchases":[87.62,49,72.5,71.4,447],"Diff Items Purchased":[35,8,5,17,2],"Sales per Visit":[105.7575,87.44,60,104.24,79]},"columns":[{"accessor":"Days since Purchase","name":"Days since Purchase","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Days Since Purchase","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"Purchase Visits","name":"Purchase Visits","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Purchase Visits","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"Days on File","name":"Days on File","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Days On File","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"Days between Purchases","name":"Days between Purchases","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Days Between Purchases","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"Diff Items Purchased","name":"Diff Items Purchased","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Diff Items Purchased","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"Sales per Visit","name":"Sales per Visit","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Sales Per Visit","headerStyle":{"fontSize":"15px","color":"#858585"}}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"bordered":true,"theme":{"color":"#8A8A8A","backgroundColor":"#FFFBFF"},"dataKey":"84643e8480099b7fb0b43f53921e3eb0"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="variable-definition" class="level4">
<h4 class="anchored" data-anchor-id="variable-definition">Variable Definition</h4>
<p><strong>days since purchase ::</strong> Number of days after a purchase was made.<br>
<strong>purchase visits ::</strong> Number of visit that ended with a purchase.<br>
<strong>days in file ::</strong> Total number of days starting from the first purchase date.<br>
<strong>days between purchases ::</strong> Average number of days between purchases.<br>
<strong>diff items purchased ::</strong> The total number of unique items purchased.<br>
<strong>sales per visit ::</strong> Average sales per customer visit.</p>
</section>
<section id="data-inspection" class="level4">
<h4 class="anchored" data-anchor-id="data-inspection">Data Inspection</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">train</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">14602</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 22%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Days since Purchase</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">126.16</td>
<td style="text-align: right;">104.22</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">35.00</td>
<td style="text-align: right;">97.00</td>
<td style="text-align: right;">203.00</td>
<td style="text-align: right;">365.00</td>
<td style="text-align: left;">▇▅▂▂▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">Purchase Visits</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5.04</td>
<td style="text-align: right;">6.39</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">3.00</td>
<td style="text-align: right;">6.00</td>
<td style="text-align: right;">115.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Days on File</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">437.88</td>
<td style="text-align: right;">193.03</td>
<td style="text-align: right;">4.00</td>
<td style="text-align: right;">286.00</td>
<td style="text-align: right;">448.00</td>
<td style="text-align: right;">630.00</td>
<td style="text-align: right;">713.00</td>
<td style="text-align: left;">▂▃▅▅▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Days between Purchases</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">172.26</td>
<td style="text-align: right;">148.70</td>
<td style="text-align: right;">4.00</td>
<td style="text-align: right;">66.81</td>
<td style="text-align: right;">124.00</td>
<td style="text-align: right;">231.92</td>
<td style="text-align: right;">713.00</td>
<td style="text-align: left;">▇▃▂▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Diff Items Purchased</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">17.20</td>
<td style="text-align: right;">25.68</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">5.00</td>
<td style="text-align: right;">9.00</td>
<td style="text-align: right;">20.00</td>
<td style="text-align: right;">743.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sales per Visit</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">114.14</td>
<td style="text-align: right;">87.95</td>
<td style="text-align: right;">2.17</td>
<td style="text-align: right;">60.79</td>
<td style="text-align: right;">92.02</td>
<td style="text-align: right;">139.62</td>
<td style="text-align: right;">1919.88</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>There are no missing values in the data (n_missing column) and the average sales per visit is 114.14 which is mostly influenced by the outliers in the data (inline histogram &amp; p50).</p>
</section>
<section id="adding-useful-variables" class="level3">
<h3 class="anchored" data-anchor-id="adding-useful-variables">Adding Useful variables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">clean_add_variable</span>(train) </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">display_tibble</span>(<span class="fu">head</span>(train, <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-4977457399d890019225" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4977457399d890019225">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"days_since_purchase":[66,49,26,64,356],"purchase_visits":[8,1,2,5,1],"days_on_file":[701,49,145,357,447],"days_between_purchases":[87.62,49,72.5,71.4,447],"diff_items_purchased":[35,8,5,17,2],"sales_per_visit":[105.7575,87.44,60,104.24,79],"rfm_score":[10,6,7,9,4],"customer_segment":["Top Segment","Middle Segment","Middle Segment","Top Segment","Bottom Segment"]},"columns":[{"accessor":"days_since_purchase","name":"days_since_purchase","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Days Since Purchase","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"purchase_visits","name":"purchase_visits","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Purchase Visits","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"days_on_file","name":"days_on_file","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Days On File","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"days_between_purchases","name":"days_between_purchases","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Days Between Purchases","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"diff_items_purchased","name":"diff_items_purchased","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Diff Items Purchased","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"sales_per_visit","name":"sales_per_visit","type":"numeric","format":{"cell":{"prefix":"$","digits":2,"separators":true},"aggregated":{"prefix":"$","digits":2,"separators":true}},"header":"Sales Per Visit","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"rfm_score","name":"rfm_score","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Rfm Score","headerStyle":{"fontSize":"15px","color":"#858585"}},{"accessor":"customer_segment","name":"customer_segment","type":"character","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"header":"Customer Segment","headerStyle":{"fontSize":"15px","color":"#858585"}}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"bordered":true,"theme":{"color":"#8A8A8A","backgroundColor":"#FFFBFF"},"dataKey":"ae3c8c97a338e9dd96f8e74c9913f038"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="data-exploration" class="level2">
<h2 class="anchored" data-anchor-id="data-exploration">Data Exploration</h2>
<section id="variable-distribution" class="level3">
<h3 class="anchored" data-anchor-id="variable-distribution">Variable Distribution</h3>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Sales Per visit</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Last Purchase</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Purchase Visit</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Length Of Time</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false">Unique Purchased Items</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>Majority of customers spent less than $400 for customer visits and there is a huge outlier close to $2,000. Given this information the MAE will be more preferred for model evaluation since it does not penalize high error caused by outliers unlike RMSE, in other words all error are weighted on the same scale.</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>The right skewed plot shows that more customers have made purchases recently with a minimum of 1 day and an average of 126. days of course it was influenced by some large outliers by customers who have not made any purchase recently.</p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>The number of visit to the online clothing store which lead to at least a purchase shows that majority on an average made a purchase at least 5 times on different visits.</p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>The number of days customers have spent with the store distribution show that majority have spent more time with the business with a maximum of 713 days (almost 2 years) and an average of 438 days.</p>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>The median value of unique number of items purchased by customers is 9 items while them maximum is 743 different items which can be somewhat of a bulk purchase.</p>
</div>
</div>
</div>
</section>
<section id="variable-relationship" class="level3">
<h3 class="anchored" data-anchor-id="variable-relationship">Variable Relationship</h3>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Sales Per visit</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Purchase Visit</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Unique Purchased Items</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Last Purchase</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-hash="index_cache/html/unnamed-chunk-11_07e7cbdeef8bc3ff4c161620e904ae40">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>The relationship between sales per visit and days since purchase, days on file and days between purchases dose not show any obvious pattern except that there are more low amount of sales than high amount.</p>
<p>While for purchase visit the same pattern as the sales per visit distribution can be seen in the scatter plot.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-hash="index_cache/html/unnamed-chunk-12_04c8a9c2faa398b93bdc882fd618bb60">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>There above scatter plots show that:: 1. As the time span since the last purchase increases the number of purchase visit decreases. 2. There is a positive relationship between purchase visit and the number of unique items purchased.</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell" data-hash="index_cache/html/unnamed-chunk-13_9cdd8f348427257dac49de032906deb4">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell" data-hash="index_cache/html/unnamed-chunk-14_c19527f2bb483e6dd42a079fe56b2e3a">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="customer-segments" class="level3">
<h3 class="anchored" data-anchor-id="customer-segments">Customer Segments</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>train <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(customer_segment, <span class="at">sort =</span> <span class="cn">TRUE</span>, <span class="at">name =</span> <span class="st">"count"</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> <span class="fu">round</span>(<span class="fu">proportions</span>(count)<span class="sc">*</span><span class="dv">100</span>, <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(<span class="fu">fct_reorder</span>(customer_segment, count)), <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#D3AB9E"</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{percentage}%"</span>), <span class="at">vjust =</span> <span class="dv">2</span>),</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"#4A4A4A"</span>) <span class="sc">+</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>()) <span class="sc">+</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Customer In Each Segment"</span>) <span class="sc">+</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"#888888"</span>),</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"#919191"</span>),</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#FFFBFF"</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">color =</span> <span class="st">"#FFFBFF"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="customer-segment-variable-aggregate-summary" class="level3">
<h3 class="anchored" data-anchor-id="customer-segment-variable-aggregate-summary">Customer Segment &amp; Variable Aggregate summary</h3>
<div class="cell">
<div class="cell-output-display">

<div id="htmlwidget-3367604b8a64f4229157" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3367604b8a64f4229157">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Variable":["Days Since Purchase","Purchase Visits","Days On File","Days Between Purchases","Diff Items Purchased","Sales Per Visit"]},"columns":[{"accessor":".details","name":"","type":"NULL","sortable":false,"resizable":false,"filterable":false,"searchable":false,"width":45,"align":"center","details":[{"name":"Reactable","attribs":{"data":{"Customer Segment":["Bottom Segment","Middle Segment","Top Segment"],"Minimum":[36,1,1],"Q25":[207,62,11],"Mean":[247.88,135.52,37.19],"Median":[261,118,26],"Q75":[299,187,53],"Maximum":[365,364,250],"Sum":[698767,971917,171502],"Variable":["Days Since Purchase","Days Since Purchase","Days Since Purchase"]},"columns":[{"accessor":"Customer Segment","name":"Customer Segment","type":"character","format":{"cell":{},"aggregated":{}},"minWidth":150,"style":{"borderRight":"2px solid #DDDDDD","color":"#616161"}},{"accessor":"Minimum","name":"Minimum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q25","name":"Q25","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Mean","name":"Mean","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Median","name":"Median","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q75","name":"Q75","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Maximum","name":"Maximum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Sum","name":"Sum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":100,"style":{"color":"#7A7A7A"}},{"accessor":"Variable","name":"Variable","type":"character","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"},"show":false}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"theme":{"color":"#6E6E6E","backgroundColor":"#FFFBFF"},"dataKey":"0eea2a23e1170b83fedb409afa71274f","nested":true},"children":[]},{"name":"Reactable","attribs":{"data":{"Customer Segment":["Bottom Segment","Middle Segment","Top Segment"],"Minimum":[1,1,1],"Q25":[1,1,5],"Mean":[1.65,3.24,9.91],"Median":[1,2,8],"Q75":[2,4,12],"Maximum":[6,53,115],"Sum":[4639,23232,45710],"Variable":["Purchase Visits","Purchase Visits","Purchase Visits"]},"columns":[{"accessor":"Customer Segment","name":"Customer Segment","type":"character","format":{"cell":{},"aggregated":{}},"minWidth":150,"style":{"borderRight":"2px solid #DDDDDD","color":"#616161"}},{"accessor":"Minimum","name":"Minimum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q25","name":"Q25","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Mean","name":"Mean","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Median","name":"Median","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q75","name":"Q75","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Maximum","name":"Maximum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Sum","name":"Sum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":100,"style":{"color":"#7A7A7A"}},{"accessor":"Variable","name":"Variable","type":"character","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"},"show":false}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"theme":{"color":"#6E6E6E","backgroundColor":"#FFFBFF"},"dataKey":"d10b78b16eff781bf5a61716e471410f","nested":true},"children":[]},{"name":"Reactable","attribs":{"data":{"Customer Segment":["Bottom Segment","Middle Segment","Top Segment"],"Minimum":[49,4,8],"Q25":[271,259,379],"Mean":[388.5,407.85,514.79],"Median":[340,401,581],"Q75":[529,586.25,675],"Maximum":[713,702,702],"Sum":[1095188,2925125,2373681],"Variable":["Days On File","Days On File","Days On File"]},"columns":[{"accessor":"Customer Segment","name":"Customer Segment","type":"character","format":{"cell":{},"aggregated":{}},"minWidth":150,"style":{"borderRight":"2px solid #DDDDDD","color":"#616161"}},{"accessor":"Minimum","name":"Minimum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q25","name":"Q25","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Mean","name":"Mean","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Median","name":"Median","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q75","name":"Q75","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Maximum","name":"Maximum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Sum","name":"Sum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":100,"style":{"color":"#7A7A7A"}},{"accessor":"Variable","name":"Variable","type":"character","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"},"show":false}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"theme":{"color":"#6E6E6E","backgroundColor":"#FFFBFF"},"dataKey":"c612e096334e5bc687c34805d1185e7d","nested":true},"children":[]},{"name":"Reactable","attribs":{"data":{"Customer Segment":["Bottom Segment","Middle Segment","Top Segment"],"Minimum":[34,4,5],"Q25":[159.25,86.33,38.16],"Mean":[285.28,186.82,80.51],"Median":[261,141.42,62.6],"Q75":[343,240.5,97.68],"Maximum":[713,702,696],"Sum":[804214.99,1339850.55,371208.7],"Variable":["Days Between Purchases","Days Between Purchases","Days Between Purchases"]},"columns":[{"accessor":"Customer Segment","name":"Customer Segment","type":"character","format":{"cell":{},"aggregated":{}},"minWidth":150,"style":{"borderRight":"2px solid #DDDDDD","color":"#616161"}},{"accessor":"Minimum","name":"Minimum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q25","name":"Q25","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Mean","name":"Mean","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Median","name":"Median","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q75","name":"Q75","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Maximum","name":"Maximum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Sum","name":"Sum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":100,"style":{"color":"#7A7A7A"}},{"accessor":"Variable","name":"Variable","type":"character","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"},"show":false}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"theme":{"color":"#6E6E6E","backgroundColor":"#FFFBFF"},"dataKey":"567742285b6af7e6fb8b80c3f4244cba","nested":true},"children":[]},{"name":"Reactable","attribs":{"data":{"Customer Segment":["Bottom Segment","Middle Segment","Top Segment"],"Minimum":[1,1,2],"Q25":[2,5,17],"Mean":[3.95,9.71,36.96],"Median":[3,8,27],"Q75":[5,12,44],"Maximum":[34,180,743],"Sum":[11134,69650,170426],"Variable":["Diff Items Purchased","Diff Items Purchased","Diff Items Purchased"]},"columns":[{"accessor":"Customer Segment","name":"Customer Segment","type":"character","format":{"cell":{},"aggregated":{}},"minWidth":150,"style":{"borderRight":"2px solid #DDDDDD","color":"#616161"}},{"accessor":"Minimum","name":"Minimum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q25","name":"Q25","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Mean","name":"Mean","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Median","name":"Median","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q75","name":"Q75","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Maximum","name":"Maximum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Sum","name":"Sum","type":"numeric","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":100,"style":{"color":"#7A7A7A"}},{"accessor":"Variable","name":"Variable","type":"character","format":{"cell":{"separators":true},"aggregated":{"separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"},"show":false}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"theme":{"color":"#6E6E6E","backgroundColor":"#FFFBFF"},"dataKey":"13432959207bc952334a124506f2e648","nested":true},"children":[]},{"name":"Reactable","attribs":{"data":{"Customer Segment":["Bottom Segment","Middle Segment","Top Segment"],"Minimum":[2.17,2.5,3.22],"Q25":[49,58.32,74.86],"Mean":[72.93,123.11,125.39],"Median":[72.48,94.86,106.95],"Q75":[92,156,156.12],"Maximum":[139.5,1919.88,1564.51],"Sum":[205598.48,882949.27,578160.07],"Variable":["Sales Per Visit","Sales Per Visit","Sales Per Visit"]},"columns":[{"accessor":"Customer Segment","name":"Customer Segment","type":"character","format":{"cell":{},"aggregated":{}},"minWidth":150,"style":{"borderRight":"2px solid #DDDDDD","color":"#616161"}},{"accessor":"Minimum","name":"Minimum","type":"numeric","format":{"cell":{"prefix":"$","separators":true},"aggregated":{"prefix":"$","separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q25","name":"Q25","type":"numeric","format":{"cell":{"prefix":"$","separators":true},"aggregated":{"prefix":"$","separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Mean","name":"Mean","type":"numeric","format":{"cell":{"prefix":"$","separators":true},"aggregated":{"prefix":"$","separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Median","name":"Median","type":"numeric","format":{"cell":{"prefix":"$","separators":true},"aggregated":{"prefix":"$","separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Q75","name":"Q75","type":"numeric","format":{"cell":{"prefix":"$","separators":true},"aggregated":{"prefix":"$","separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Maximum","name":"Maximum","type":"numeric","format":{"cell":{"prefix":"$","separators":true},"aggregated":{"prefix":"$","separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"}},{"accessor":"Sum","name":"Sum","type":"numeric","format":{"cell":{"prefix":"$","separators":true},"aggregated":{"prefix":"$","separators":true}},"minWidth":100,"style":{"color":"#7A7A7A"}},{"accessor":"Variable","name":"Variable","type":"character","format":{"cell":{"prefix":"$","separators":true},"aggregated":{"prefix":"$","separators":true}},"minWidth":85,"style":{"color":"#7A7A7A"},"show":false}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"theme":{"color":"#6E6E6E","backgroundColor":"#FFFBFF"},"dataKey":"1cead524df09363a7062a96aa858229f","nested":true},"children":[]}]},{"accessor":"Variable","name":"Variable","type":"character"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"bordered":true,"theme":{"color":"#6E6E6E","backgroundColor":"#FFFBFF","cellPadding":12,"headerStyle":{"fontSize":"25px","color":"#5C5C5C"}},"dataKey":"abc1aacf469ad4ee43857d774b3d0c0b"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="correlation" class="level3">
<h3 class="anchored" data-anchor-id="correlation">Correlation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>train <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(axis_label) <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">|&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>() <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  reshape2<span class="sc">::</span><span class="fu">melt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">height =</span> <span class="fl">0.8</span>, <span class="at">width =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(value, <span class="dv">2</span>)), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"#000000"</span>) <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"#E39774"</span>, <span class="at">mid =</span> <span class="st">"#EBD8D0"</span>, <span class="at">high =</span> <span class="st">"#8B786D"</span>) <span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>() <span class="sc">+</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">margin =</span> <span class="fu">margin</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">angle =</span> <span class="dv">25</span>, </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, </span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">0</span>)),</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The number of unique items purchased is highly correlated with purchase visits also days between purchase is moderately correlated with number of days since purchase.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Ayomide Akinwande. September, 2022</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>